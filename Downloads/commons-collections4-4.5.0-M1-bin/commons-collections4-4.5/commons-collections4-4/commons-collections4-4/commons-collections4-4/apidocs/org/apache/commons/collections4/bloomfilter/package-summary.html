<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>org.apache.commons.collections4.bloomfilter (Apache Commons Collections 4.5.0-M1 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="description" content="declaration: package: org.apache.commons.collections4.bloomfilter">
<meta name="generator" content="javadoc/PackageWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="package-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Package</li>
<li>Class</li>
<li><a href="package-use.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#package">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Package:&nbsp;</li>
<li><a href="#package-description">Description</a>&nbsp;|&nbsp;</li>
<li><a href="#related-package-summary">Related Packages</a>&nbsp;|&nbsp;</li>
<li><a href="#class-summary">Classes and Interfaces</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<div class="header">
<h1 title="Package org.apache.commons.collections4.bloomfilter" class="title">Package org.apache.commons.collections4.bloomfilter</h1>
</div>
<hr>
<div class="package-signature">package <span class="element-name">org.apache.commons.collections4.bloomfilter</span></div>
<section class="package-description" id="package-description">
<div class="block">Collects extensible Bloom filter classes and interfaces.

 <h2>Background:</h2>

 <p>The Bloom filter is a probabilistic data structure that indicates where things are not. Conceptually it is a bit
 vector. You create a Bloom filter by creating hashes and converting those to enabled bits in the vector. Multiple
 Bloom filters may be merged together into one Bloom filter. It is possible to test if a filter <code>B</code> has merged
 into another filter <code>A</code> by verifying that <code>(A &amp; B) == B</code>.</p>

 <p>Bloom filters are generally used where hash tables would be too large, or as a filter front end for longer processes.
 For example most browsers have a Bloom filter that is built from all known bad URLs (ones that serve up malware).
 When you enter a URL the browser builds a Bloom filter and checks to see if it is "in" the bad URL filter. If not the
 URL is good, if it matches, then the expensive lookup on a remote system is made to see if it actually is in the
 list. There are lots of other uses, and in most cases the reason is to perform a fast check as a gateway for a longer
 operation.</p>

 <p>Some Bloom filters (e.g. CountingBloomFilter) use counters rather than bits. In this case each counter
 is called a <code>cell</code>.</p>

 <h3>BloomFilter</h3>

 <p>The Bloom filter architecture here is designed for speed of execution, so some methods like <code>merge</code>, <code>remove</code>,
 <code>add</code>, and <code>subtract</code> may throw exceptions. Once an exception is thrown the state of the Bloom filter is unknown.
 The choice to use not use atomic transactions was made to achieve maximum performance under correct usage.</p>

 <p>In addition the architecture is designed so that the implementation of the storage of bits is abstracted.
 Programs that utilize the Bloom filters may use the <code>BitMapProducer</code> or <code>IndexProducer</code> to retrieve a
 representation of the internal structure. Additional methods are available in the <code>BitMap</code> to assist in
 manipulation of the representations.</p>

 <p>The Bloom filter code is an interface that requires implementation of 9 methods:</p>
 <ul>
 <li><a href="BloomFilter.html#cardinality()"><code>BloomFilter.cardinality()</code></a> returns the number of bits enabled in the Bloom filter.</li>

 <li><a href="BloomFilter.html#characteristics()"><code>BloomFilter.characteristics()</code></a> which returns an integer of characteristics flags.</li>

 <li><a href="BloomFilter.html#clear()"><code>BloomFilter.clear()</code></a> which resets the Bloomfilter to its initial empty state.</li>

 <li><a href="BloomFilter.html#contains(org.apache.commons.collections4.bloomfilter.IndexProducer)"><code>BloomFilter.contains(IndexProducer)</code></a> which returns true if the bits specified by the indices generated by
 IndexProducer are enabled in the Bloom filter.</li>

 <li><a href="BloomFilter.html#copy()"><code>BloomFilter.copy()</code></a> which returns a fresh copy of the bitmap.</li>

 <li><a href="BloomFilter.html#getShape()"><code>BloomFilter.getShape()</code></a> which returns the shape the Bloom filter was created with.</li>

 <li><a href="BloomFilter.html#merge(org.apache.commons.collections4.bloomfilter.BitMapProducer)"><code>BloomFilter.merge(BitMapProducer)</code></a> which merges the BitMaps from the BitMapProducer into the internal
 representation of the Bloom filter.</li>

 <li><a href="BloomFilter.html#merge(org.apache.commons.collections4.bloomfilter.IndexProducer)"><code>BloomFilter.merge(IndexProducer)</code></a> which merges the indices from the IndexProducer into the internal
 representation of the Bloom filter.</li>
 </ul>

 <p>Other methods should be implemented where they can be done so more efficiently than the default implementations.</p>

 <h3>CountingBloomFilter</h3>

 <p>The counting Bloom filter extends the Bloom filter by counting the number of times a specific bit has been
 enabled or disabled. This allows the removal (opposite of merge) of Bloom filters at the expense of additional
 overhead.</p>

 <h3>LayeredBloomFilter</h3>

 <p>The layered Bloom filter extends the Bloom filter by creating layers of Bloom filters that can be queried as a single
 Filter or as a set of filters.  This adds the ability to perform windowing on streams of data.</p>

 <h3>Shape</h3>

 <p>The Shape describes the Bloom filter using the number of bits and the number of hash functions</p>

 <h3>Hasher</h3>

 <p>A Hasher converts bytes into a series of integers based on a Shape. Each hasher represents one item being added
 to the Bloom filter.</p>

 <p>The EnhancedDoubleHasher uses a combinatorial generation technique to create the integers. It is easily
 initialized by using a byte array returned by the standard <code>MessageDigest</code> or other hash function to
 initialize the Hasher. Alternatively a pair of a long values may also be used.</p>

 <p>Other implementations of the Hasher are easy to implement, and should make use of the <code>Hasher.Filter</code>
 and/or <code>Hasher.FileredIntConsumer</code> classes to filter out duplicate indices when implementing
 <code>Hasher.uniqueIndices(Shape)</code>.</p>

 <h2>References</h2>

 <ol>
 <li>https://www.eecs.harvard.edu/~michaelm/postscripts/tr-02-05.pdf</li>
 <li>https://github.com/apache/cassandra/blob/trunk/src/java/org/apache/cassandra/utils/BloomFilter.java#L60</li>
 </ol></div>
<dl class="notes">
<dt>Since:</dt>
<dd>4.5</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<li>
<div id="related-package-summary">
<div class="caption"><span>Related Packages</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Package</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><a href="../package-summary.html">org.apache.commons.collections4</a></div>
<div class="col-last even-row-color">
<div class="block">Interfaces and utilities shared across all packages.</div>
</div>
</div>
</div>
</li>
<li>
<div id="class-summary">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="class-summary-tab0" role="tab" aria-selected="true" aria-controls="class-summary.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary', 2)" class="active-table-tab">All Classes and Interfaces</button><button id="class-summary-tab1" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab1', 2)" class="table-tab">Interfaces</button><button id="class-summary-tab2" role="tab" aria-selected="false" aria-controls="class-summary.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('class-summary', 'class-summary-tab2', 2)" class="table-tab">Classes</button></div>
<div id="class-summary.tabpanel" role="tabpanel">
<div class="summary-table two-column-summary" aria-labelledby="class-summary-tab0">
<div class="table-header col-first">Class</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="ArrayCountingBloomFilter.html" title="class in org.apache.commons.collections4.bloomfilter">ArrayCountingBloomFilter</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A counting Bloom filter using an int array to track cells for each enabled bit.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="BitMap.html" title="class in org.apache.commons.collections4.bloomfilter">BitMap</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Contains functions to convert <code>int</code> indices into Bloom filter bit positions and visa versa.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="BitMapProducer.html" title="interface in org.apache.commons.collections4.bloomfilter">BitMapProducer</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">Produces bit map longs for a Bloom filter.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="BloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilter</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">The interface that describes a Bloom filter.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="BloomFilterProducer.html" title="interface in org.apache.commons.collections4.bloomfilter">BloomFilterProducer</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">Produces Bloom filters from a collection (e.g.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="CellProducer.html" title="interface in org.apache.commons.collections4.bloomfilter">CellProducer</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">Some Bloom filter implementations use a count rather than a bit flag.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab1"><a href="CellProducer.CellConsumer.html" title="interface in org.apache.commons.collections4.bloomfilter">CellProducer.CellConsumer</a></div>
<div class="col-last even-row-color class-summary class-summary-tab1">
<div class="block">Represents an operation that accepts an <code>&lt;index, count&gt;</code> pair.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="CountingBloomFilter.html" title="interface in org.apache.commons.collections4.bloomfilter">CountingBloomFilter</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">The interface that describes a Bloom filter that associates a count with each
 bit index rather than a bit.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="EnhancedDoubleHasher.html" title="class in org.apache.commons.collections4.bloomfilter">EnhancedDoubleHasher</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A Hasher that implements combinatorial hashing as described by
 <a href="https://www.eecs.harvard.edu/~michaelm/postscripts/tr-02-05.pdf">Krisch and Mitzenmacher</a> using the enhanced double hashing technique
 described in the wikipedia article  <a href="https://en.wikipedia.org/wiki/Double_hashing#Enhanced_double_hashing">Double Hashing</a>.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="Hasher.html" title="interface in org.apache.commons.collections4.bloomfilter">Hasher</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">A Hasher creates IndexProducer based on the hash implementation and the
 provided Shape.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="IndexFilter.html" title="class in org.apache.commons.collections4.bloomfilter">IndexFilter</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A convenience class for Hasher implementations to filter out duplicate indices.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="IndexProducer.html" title="interface in org.apache.commons.collections4.bloomfilter">IndexProducer</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">An object that produces indices of a Bloom filter.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="LayeredBloomFilter.html" title="class in org.apache.commons.collections4.bloomfilter">LayeredBloomFilter</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Layered Bloom filters are described in Zhiwang, Cen; Jungang, Xu; Jian, Sun
 (2010), "A multi-layer Bloom filter for duplicated URL detection", Proc.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="LayerManager.html" title="class in org.apache.commons.collections4.bloomfilter">LayerManager</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Implementation of the methods to manage the layers in a layered Bloom filter.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="LayerManager.Builder.html" title="class in org.apache.commons.collections4.bloomfilter">LayerManager.Builder</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Builder to create Layer Manager</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="LayerManager.Cleanup.html" title="class in org.apache.commons.collections4.bloomfilter">LayerManager.Cleanup</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">Static methods to create a Consumer of a LinkedList of BloomFilter perform
 tests on whether to reduce the collection of Bloom filters.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="LayerManager.ExtendCheck.html" title="class in org.apache.commons.collections4.bloomfilter">LayerManager.ExtendCheck</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A collection of common ExtendCheck implementations to test whether to extend
 the depth of a LayerManager.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab1"><a href="LongBiPredicate.html" title="interface in org.apache.commons.collections4.bloomfilter">LongBiPredicate</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab1">
<div class="block">Represents a function that accepts a two long-valued argument and produces a binary result.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="SetOperations.html" title="class in org.apache.commons.collections4.bloomfilter">SetOperations</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">Implementations of set operations on BitMapProducers.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="Shape.html" title="class in org.apache.commons.collections4.bloomfilter">Shape</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">The definition of a Bloom filter shape.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="SimpleBloomFilter.html" title="class in org.apache.commons.collections4.bloomfilter">SimpleBloomFilter</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">A bloom filter using an array of bit maps to track enabled bits.</div>
</div>
<div class="col-first odd-row-color class-summary class-summary-tab2"><a href="SparseBloomFilter.html" title="class in org.apache.commons.collections4.bloomfilter">SparseBloomFilter</a></div>
<div class="col-last odd-row-color class-summary class-summary-tab2">
<div class="block">A bloom filter using a TreeSet of integers to track enabled bits.</div>
</div>
<div class="col-first even-row-color class-summary class-summary-tab2"><a href="WrappedBloomFilter.html" title="class in org.apache.commons.collections4.bloomfilter">WrappedBloomFilter</a></div>
<div class="col-last even-row-color class-summary class-summary-tab2">
<div class="block">An abstract class to assist in implementing Bloom filter decorators.</div>
</div>
</div>
</div>
</div>
</li>
</ul>
</section>
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2001&#x2013;2024 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
